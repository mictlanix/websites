(function(c,p,r,j){var q=/url\(["']?(.*?)["']?\)/,m=[],n={top:0,left:0,bottom:1,right:1,center:0.5};if(!("backgroundSize"in c("<div>")[0].style)||c.debugBGS){c.cssHooks.backgroundSize={set:function(a,e){var b=!c.data(a,"bgsImg"),d;c.data(a,"bgsValue",e);b?(m.push(a),c.refreshBackgroundDimensions(a,!0),b=c("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"}),d=c("<img>").css({position:"absolute"}).appendTo(b),b.prependTo(a),c.data(a,"bgsImg",d[0]),b=(c.css(a, "backgroundPosition")||c.css(a,"backgroundPositionX")+" "+c.css(a,"backgroundPositionY")).split(" "),c.data(a,"bgsPos",[n[b[0]]||parseFloat(b[0])/100,n[b[1]]||parseFloat(b[1])/100]),"auto"==c.css(a,"zIndex")&&(a.style.zIndex=0),"static"==c.css(a,"position")&&(a.style.position="relative"),c.refreshBackgroundImage(a)):c.refreshBackground(a)},get:function(a){return c.data(a,"bgsValue")||""}};c.cssHooks.backgroundImage={set:function(a,e){c.data(a,"bgsImg")&&c.refreshBackgroundImage(a,e)}};c.refreshBackgroundDimensions= function(a,e){var b=c(a),b={width:b.innerWidth(),height:b.innerHeight()},d=c.data(a,"bgsDim"),d=!d||b.width!=d.width||b.height!=d.height;c.data(a,"bgsDim",b);d&&!e&&c.refreshBackground(a)};c.refreshBackgroundImage=function(a,e){var b=c.data(a,"bgsImg"),d=(q.exec(e||c.css(a,"backgroundImage"))||[])[1];if(d!=(b&&b.src)){b.style.height=b.style.width="auto";b.onload=function(){var d={width:b.width,height:b.height};1==d.width&&1==d.height||(c.data(a,"bgsImgDim",d),c.data(a,"bgsConstrain",!1),c.refreshBackground(a), b.style.visibility="visible",b.onload=null)};b.style.visibility="hidden";b.src=d;if(b.readyState||b.complete)b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",b.src=d;a.style.backgroundImage="none"}};c.refreshBackground=function(a){var e=c.data(a,"bgsValue"),b=c.data(a,"bgsDim"),d=c.data(a,"bgsImgDim"),h=c(c.data(a,"bgsImg")),f=c.data(a,"bgsPos"),g=c.data(a,"bgsConstrain"),i=b.width/b.height,d=d.width/d.height;"contain"==e?d>i?(c.data(a,"bgsConstrain",a="width"),b=j.floor((b.height- b.width/d)*f[1]),h.css({top:b}),a!=g&&h.css({width:"100%",height:"auto",left:0})):(c.data(a,"bgsConstrain",a="height"),b=j.floor((b.width-b.height*d)*f[0]),h.css({left:b}),a!=g&&h.css({height:"100%",width:"auto",top:0})):"cover"==e&&(d>i?(c.data(a,"bgsConstrain",a="height"),b=j.floor((b.height*d-b.width)*f[0]),h.css({left:-b}),a!=g&&h.css({height:"100%",width:"auto",top:0})):(c.data(a,"bgsConstrain",a="width"),b=j.floor((b.width/d-b.height)*f[1]),h.css({top:-b}),a!=g&&h.css({width:"100%",height:"auto", left:0})))};var o=c.event,g,i={_:0},f=0,k,l;g=o.special.throttledresize={setup:function(){c(this).on("resize",g.handler)},teardown:function(){c(this).off("resize",g.handler)},handler:function(a,e){var b=this,d=arguments;k=!0;l||(c(i).animate(i,{duration:Infinity,step:function(){f++;if(f>g.threshold&&k||e)a.type="throttledresize",o.dispatch.apply(b,d),k=!1,f=0;9<f&&(c(i).stop(),l=!1,f=0)}}),l=!0)},threshold:1};c(p).on("throttledresize",function(){c(m).each(function(){c.refreshBackgroundDimensions(this)})})}})(jQuery, window,document,Math);
